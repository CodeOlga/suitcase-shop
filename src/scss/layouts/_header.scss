@use "../abstracts/mixins";
@use "../abstracts/variables";

.header {
  padding-top: 48px;
  padding-bottom: 24px;

  .top-bar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding-bottom: 36px;
    border-bottom: 1px solid variables.$bg-light-gray;
  }

  .socials {
    display: flex;
    gap: 24px;
  }

  .logo {
    display: inline-flex;
    align-items: center;

    .logo-icon {
      width: 228px;
      height: 38px;
      fill: currentColor;
    }
  }

  .actions {
    display: flex;
    gap: 16px;

    .cart-btn {
      position: relative;

      .cart-counter {
        display: none;
        position: absolute;
        top: -6px;
        right: -6px;
        background: variables.$color-primary-pink;
        color: variables.$bg-white;
        font-size: 12px;
        font-weight: variables.$font-weight-bold;
        border-radius: 50%;
        min-width: 20px;
        height: 20px;
        align-items: center;
        justify-content: center;
      }
    }
  }

  .nav-bar {
    display: flex;
    justify-content: center;
    padding-top: 28px;
  }

  .nav {
    .nav-list {
      display: flex;
      gap: 28px;
    }

    .nav-link {
      font-weight: variables.$font-weight-bold;
      font-size: 18px;

      @include mixins.transition(color);

      &:hover,
      &.active {
        color: variables.$color-primary-pink;
      }
    }

    .mobile-actions,
    .mobile-socials {
      display: none;
    }
  }

  @media (max-width: variables.$breakpoint-sm) {
    padding-top: 24px;
    padding-bottom: 16px;

    .top-bar {
      flex-direction: column;
      align-items: center;
      gap: 16px;
      padding-bottom: 20px;

      .logo {
        order: -1;

        .logo-icon {
          width: 180px;
          height: auto;
        }
      }

      .socials,
      .actions {
        gap: 12px;
      }

      .socials a svg {
        width: 18px;
        height: 18px;
      }

      .actions {
        .icon-btn {
          width: 24px;
          height: 24px;

          svg {
            width: 100%;
            height: 100%;
          }
        }
      }

      .socials,
      .actions {
        display: flex;
      }

      .socials + .actions {
        margin-left: 24px;
      }

      &::after {
        content: "";
        display: block;
        width: 100%;
      }

      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .nav-bar {
      padding-top: 20px;
    }

    .nav {
      .nav-list {
        flex-direction: column;
        align-items: center;
        gap: 10px;
      }

      .nav-link {
        font-size: 16px;
      }
    }
  }
}

// Mobile menu
.burger {
  display: none;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 4px;
  width: 26px;
  height: 20px;
  background: none;
  border: none;
  cursor: pointer;
  padding: 0;
  z-index: 1100;

  @include mixins.transition(transform);

  span {
    display: block;
    width: 100%;
    height: 3px;
    background-color: variables.$text-dark-gray;
    border-radius: 2px;
    transform-origin: center;

    @include mixins.transition((transform, opacity));
  }

  &:hover span {
    background-color: variables.$color-primary-pink;
  }

  &:focus-visible {
    outline: 2px solid variables.$color-primary-pink;
    outline-offset: 2px;
  }

  &.active span:nth-child(1) {
    transform: rotate(45deg) translate(5px, 5px);
  }

  &.active span:nth-child(2) {
    opacity: 0;
  }

  &.active span:nth-child(3) {
    transform: rotate(-45deg) translate(5px, -5px);
  }
}

.menu-overlay {
  position: fixed;
  inset: 0;
  background: variables.$bg-overlay;
  opacity: 0;
  visibility: hidden;
  pointer-events: none;
  transition: opacity variables.$transition-duration variables.$timing-function,
    visibility 0s linear variables.$transition-duration;
  z-index: 1000;
}

.menu-overlay.active {
  opacity: 1;
  visibility: visible;
  pointer-events: auto;
  transition: opacity variables.$transition-duration variables.$timing-function,
    visibility 0s;
}

@media (max-width: variables.$breakpoint-sm) {
  .header {
    padding-top: 16px;
    padding-bottom: 12px;

    .top-bar {
      display: flex;
      align-items: center;
      justify-content: space-between;
      border-bottom: 1px solid variables.$bg-light-gray;
      padding-bottom: 28px;
      position: relative;

      .socials {
        display: none;
      }

      .logo {
        order: 1;
        margin-right: auto;

        .logo-icon {
          width: 160px;
          height: auto;
        }
      }

      .actions {
        display: none;
      }

      .burger {
        display: flex;
        position: absolute;
        right: 0;
        top: 50%;
        transform: translateY(-50%);
      }
    }

    .nav-bar {
      position: fixed;
      top: 0;
      right: 0;
      height: 100vh;
      width: 80%;
      max-width: 300px;
      background-color: variables.$bg-white;
      box-shadow: variables.$box-shadow;
      transform: translateX(100%);
      transition: none;
      z-index: 1050;
      padding-top: 100px;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }

    .nav-bar.active {
      transform: translateX(0);
    }
    .nav-bar.nav-animate {
      @include mixins.transition(transform);
    }

    .nav {
      flex-grow: 1;

      .nav-list {
        display: flex;
        flex-direction: column;
        align-items: flex-start;
        gap: 20px;
        padding-left: 24px;
        padding-bottom: 24px;
      }

      .nav-link {
        font-size: 18px;
        font-weight: variables.$font-weight-bold;
      }

      .mobile-actions {
        display: flex;
        justify-content: center;
        gap: 16px;
        padding: 16px 0;
        border-top: 1px solid variables.$bg-light-gray;

        .icon-btn,
        .cart-btn {
          position: relative;
        }
      }

      .mobile-actions .cart-btn .cart-counter {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        min-width: 18px;
        height: 18px;
        font-size: 11px;
        font-weight: variables.$font-weight-bold;
        color: variables.$bg-white;
        background: variables.$color-primary-pink;
        border-radius: 50%;
        position: absolute;
        top: -6px;
        right: -6px;
      }
      .mobile-socials {
        display: flex;
        justify-content: center;
        gap: 20px;
        padding: 24px 0;
        border-top: 1px solid variables.$bg-light-gray;

        a svg {
          width: 22px;
          height: 22px;

          @include mixins.transition(fill);
        }

        a:hover svg {
          fill: variables.$color-primary-pink;
        }
      }
    }

    body.menu-open {
      overflow: hidden;
    }
  }
}
